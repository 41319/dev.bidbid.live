{"version":3,"sources":["webpack:///./src/library/store.js","webpack:///./src/pages/dashboard.js"],"names":["getStoreByRole","storeRoles","limit","searchObject","ascending","role","c","f","v","t","Component","_userContext","React","useContext","UserContext","useState","stores","setStores","useEffect","roles","filter","r","includes","map","get","length","then","href","store","i","key"],"mappings":"4FAAA,4DAGaA,EAAiB,SAACC,EAAiBC,GAC9C,YAD4D,IAA/BD,MAAa,SAAkB,IAAdC,MAAQ,GAC/CC,YAAa,QAAS,CAC3BC,UAAW,YACXC,KAAM,CACJC,EAAG,QACHC,EAAG,cACHC,EAAGP,EACHQ,EAAG,e,kCCVT,oEAyCeC,UApCG,WAChB,IAAMC,EAAeC,IAAMC,WAAWC,KADhB,EAGMC,mBAAS,MAA9BC,EAHe,KAGPC,EAHO,KAetB,OAVAC,qBAAU,WACR,IAAMjB,EACHU,GACCA,EAAaQ,MAAMC,QAAO,SAACC,GAAD,OAAOA,EAAEC,SAAS,cAC9C,GAAGC,KAAI,SAACF,GAAD,OAAOA,EAAEG,IAAI,WAClBvB,GAAcA,EAAWwB,QAC3BzB,YAAeC,EAAY,GAAGyB,KAAKT,KAEpC,CAACN,IAGF,oCACE,qDACA,kBAAC,IAAD,CAAQgB,KAAK,eAAb,SAFF,2BAGGX,GACCA,EAAOO,KAAI,SAACK,EAAOC,GAAR,OACT,oCACE,uBAAGC,IAAKD,GACN,kBAAC,IAAD,CAAQF,KAAI,UAAYC,EAAMJ,IAAI,eAAlC,UAAmE,IADrE,eAEeI,EAAMJ,IAAI,QAFzB,gCAMN,2BACE,kBAAC,IAAD,CAAQG,KAAI,YAAZ,UADF","file":"component---src-pages-dashboard-js-a2b550ddd624f7d574da.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { searchObject } from \"./parse\";\n\nexport const getStoreByRole = (storeRoles = [], limit = 1) => {\n  return searchObject(\"Store\", {\n    ascending: \"createdAt\",\n    role: {\n      c: \"_Role\",\n      f: \"containedIn\",\n      v: storeRoles,\n      t: \"pointer\",\n    },\n  });\n};\n","import React, { useEffect, useState } from \"react\";\nimport { Anchor } from \"grommet\";\nimport { getStoreByRole } from \"../library/store\";\nimport UserContext from \"../context/UserContext\";\n\nconst Component = () => {\n  const _userContext = React.useContext(UserContext);\n\n  const [stores, setStores] = useState(null);\n\n  useEffect(() => {\n    const storeRoles =\n      (_userContext &&\n        _userContext.roles.filter((r) => r.includes(\"Store-\"))) ||\n      [].map((r) => r.get(\"name\"));\n    if (storeRoles && storeRoles.length) {\n      getStoreByRole(storeRoles, 1).then(setStores);\n    }\n  }, [_userContext]);\n\n  return (\n    <>\n      <p>Welcome to bidbid.live</p>\n      <Anchor href=\"/setupstore\">Setup</Anchor> a store to get started.\n      {stores &&\n        stores.map((store, i) => (\n          <>\n            <p key={i}>\n              <Anchor href={`/store/${store.get(\"uniqueName\")}`}>Upload</Anchor>{\" \"}\n              products to {store.get(\"name\")} store to start selling.\n            </p>\n          </>\n        ))}\n      <p>\n        <Anchor href={`/profile`}>Update</Anchor> your contact info to start\n        bidding.\n      </p>\n    </>\n  );\n};\n\nexport default Component;\n"],"sourceRoot":""}