{"version":3,"sources":["webpack:///./src/pages/profile.js"],"names":["Component","useState","rolePublicProfile","setRolePublicProfile","useEffect","getMyRoleObject","then","e","role","find","o","get","Parse","User","current","id","searchObject","limit","f","t","v","c","objects","buttonText","heading","mode","onClick","action","model","createObject","updateObject","toJSON","formConfig","config","property","headerText"],"mappings":"8FAAA,wDAgEeA,UAvDG,WAAO,IAAD,EAC4BC,mBAAS,IAApDC,EADe,KACIC,EADJ,KA0BtB,OAvBAC,qBAAU,WACRC,cAAkBC,MAAK,SAACC,GACtB,IAAMC,EAAOD,EAAEE,MACb,SAACC,GAAD,OAAOA,EAAEC,IAAI,UAAN,QAA0BC,IAAMC,KAAKC,UAAUC,MAEpDP,GACFQ,YAAa,oBAAqB,CAChCC,MAAO,EACPT,KAAM,CACJU,EAAG,UACHC,EAAG,UACHC,EAAGZ,EAAKO,GACRM,EAAG,WAEJf,MAAK,SAACgB,GAAD,OACNA,GAAWA,EAAQ,GACfnB,EAAqBmB,EAAQ,IAC7BnB,EAAqB,YAI9B,IAGD,oCACE,kBAAC,IAAD,CACEoB,WAAW,yBACXC,QAAQ,yBACRC,KAAMvB,EAAkBa,GAAK,SAAW,SACxCW,QAAS,SAACC,EAAQC,GAChB,MAAe,WAAXD,EACKE,YAAa,oBAAqBD,GAG5B,WAAXD,EACKG,YAAa,oBAAqBF,QAD3C,GAIFA,MAAO1B,EAAkBa,GAAKb,EAAkB6B,SAAW,GAC3DC,WAAY,CACVC,OAAQ,CACN,CACEC,SAAU,OACVC,WAAY","file":"component---src-pages-profile-js-04998351a994cc5d5da9.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Anchor } from \"grommet\";\nimport Parse, {\n  getMyRoleObject,\n  searchObject,\n  updateObject,\n  createObject,\n} from \"../library/parse\";\nimport CRUDForm from \"../containers/CRUDForm\";\nconst Component = () => {\n  const [rolePublicProfile, setRolePublicProfile] = useState({});\n\n  useEffect(() => {\n    getMyRoleObject().then((e) => {\n      const role = e.find(\n        (o) => o.get(\"name\") === `User-${Parse.User.current().id}`\n      );\n      if (role) {\n        searchObject(\"RolePublicProfile\", {\n          limit: 1,\n          role: {\n            f: \"equalTo\",\n            t: \"pointer\",\n            v: role.id,\n            c: \"_Role\",\n          },\n        }).then((objects) =>\n          objects && objects[0]\n            ? setRolePublicProfile(objects[0])\n            : setRolePublicProfile({})\n        );\n      }\n    });\n  }, []);\n\n  return (\n    <>\n      <CRUDForm\n        buttonText=\"Update Contact Details\"\n        heading=\"Update Contact Details\"\n        mode={rolePublicProfile.id ? \"update\" : \"create\"}\n        onClick={(action, model) => {\n          if (action === \"create\") {\n            return createObject(\"RolePublicProfile\", model);\n          }\n\n          if (action === \"update\") {\n            return updateObject(\"RolePublicProfile\", model);\n          }\n        }}\n        model={rolePublicProfile.id ? rolePublicProfile.toJSON() : {}}\n        formConfig={{\n          config: [\n            {\n              property: \"name\",\n              headerText: \"Name\",\n            },\n          ],\n        }}\n      />\n    </>\n  );\n};\n\nexport default Component;\n"],"sourceRoot":""}